 <section>
   <style>
        #mapid {
            height: 600px;
            width: 100%;
        }
    </style>
  <div id="mapid"></div>


    
 <script type="text/javascript">
        var mymap = L.map('mapid').setView([52.345944, -7.321977], 15);
        // create a base layer of map tiles
         L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', 
        {
          attribution: '',
              maxZoom: 18,
          id: 'mapbox/streets-v11',
          accessToken: 'pk.eyJ1IjoiamltdGhlZW5jaGFudGVyIiwiYSI6ImNrNXhveWRhdTB5M3QzcW4zM2pmMHMxNnkifQ.ho-Px1mJyDlzc5JD9vgcFQ'
         }).addTo(mymap);
 </script> 

  {{#each properties}}
   <script>    
   L.marker([ {{long}}, {{lat}}]).addTo(mymap).bindPopup(` {{eircode}} <br> {{long}} <br> {{lat}} `);
    </script>
  {{/each}} 
    {{#each polylines}}
    <script>

      // create an array made up of lat lngs
    arr = [];
    {{#each latlng}}
        console.log("{{this.lat}}  {{this.lng}}")
        mini_arr = [];
        mini_arr.push({{this.lat}});
        mini_arr.push({{this.lng}});
        arr.push(mini_arr);
    {{/each}}
      console.log(arr, "latlng array passed")
      test = new L.polyline(arr);
      test.addTo(mymap)
  L.polyline(arr,  {color: 'red', title: 'node2'}).addTo(mymap)
    </script>
  {{/each}}

<script>
// var latlngs = [[52.35039323647337, -7.326826106457664],
// [52.35059069755589, -7.327548405418206],
// [52.35084412837997, -7.329333127625257],
// [52.35111284004537, -7.330986654985202], 
// [52.35132184275879, -7.332343066936341],
// [52.35133253859386, -7.332681695004047],
// [52.351321096452, -7.332784109406337],
// [52.3508071472338, -7.332933052120128],
// [52.35069704362221, -7.332666725108664],
// [52.346987756035, -7.334818945421741],
// [52.34805229586723, -7.332662494120954],
// [52.34826928488987,-7.33126300934268],
// [52.34826928488987, -7.33126300934268],
// [52.34922984327213,	-7.328600285922605],
// [52.35008075329776, -7.327034313079017],
// [52.35024913180711, -7.326892276903236],
// [52.35039323647337, -7.326826106457664]
// ];



</script>

</section>



